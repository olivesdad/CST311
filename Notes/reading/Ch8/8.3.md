# Message Integrity and Digital Signatures
AKA: how do I know if you sent me this and how do i know it hasn't been altered?
### Cryptographic Hash
- A hash function takes in a string $m$ and creates a fixed size string with the hash function -> $H(m)$ 
	- A valid function needs to be impossible to create 2 identical hashes $H(m)!=H(n)$ 
- ==MD5== is a popular hash algorithm that computes 128-bit hash in a 4 step process
- ==SHA-1== is a popular hash algorithm says the book, but it has recently been deprecated 
### Message Authentication 
If someone we only used a hash function and sent the hash function/key with the message that only protects agains accidental bit flips. A malicious attcker could just send a message with a different hash function and the reciever dwouldnt know.
- We can address this concern with an *authentication key* or _shared secret_ and use the following process to generate the Hashed message
1. Append the secret "s" to the end of the message $(m+s)$
2. Hash the new message $H(m+s)$
3. Append the hash to the message to send $(message,H(m+s))$
4. reciever does the same with the secret to see if the hash is correct
### Message Authentication Codes (MAC)
The most popular standard today is HMAC, which can be used either with MD5 or SHA-1. HMAC actually runs data and the authentication key through the hash function twice
### Digital signatures
Signer encrypts the message with their private key and anyone wanting to validate that they are infact the origin decrypts it with that users public key
>[!OVERHEAD]
>Since we know key pair encryption and decryption is a lot of work. One way to reduce this cost is the Hash the message first then just encrypt the hash which is a fixed length much smaller than original message

- So sending the message hashed and encrypting the hash is good for integrity as it confirms the sender and the unchangedness of it
### Certificatation Authority (CA)
The final peice is how to verify that the public key belongs to the person that is signing the letter. In the example Trudy could say she is bob and send her public key and sign with her private key
1. A CA verifies that an entity (a person, a router, and so on) is who it says it is. There are no mandated procedures for how certification is done. When dealing with a CA, one must trust the CA to have performed a suitably rigorous identity verification. For example, if Trudy were able to walk into the Fly-by-Night